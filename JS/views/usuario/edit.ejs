<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <%- include('../includes/header.ejs') %>
        <div class="container">
            <br>
            <h3>Editar Usuario</h3>
            <% if (error){ %>
                <div class="alert alert-danger alert-dismissable">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    <strong>¡Error!</strong> <%=error%>
                </div>
            <%}%>
            <form action="/usuario/update" method="post">
                <div class="form-group">
                    <div class="col-md-6">
                        <input class="form-control" type="text" name="id" value="<%= item.id%>" hidden>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-6">
                        <label for="nombres">Nombres</label>
                        <input class="form-control" type="text" name="nombres" value="<%= item.nombres%>" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-6">
                        <label for="nombres">Apellidos</label>
                        <input class="form-control" type="text" name="apellidos" value="<%= item.apellidos%>" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-6">
                        <label for="nombres">Email</label>
                        <input class="form-control" type="email" name="email" value="<%= item.email%>" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-6">
                        <label for="nombres">Dirección</label>
                        <input class="form-control" type="text" name="direccion" value="<%= item.direccion%>" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-6">
                        <label for="nombres">Teléfono</label>
                        <input class="form-control" type="text" name="telefono" value="<%= item.telefono%>" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-6">
                        <label for="nombres">Username</label>
                        <input class="form-control" type="text" name="username" value="<%= item.username%>" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-6">
                        <label for="apellidos">Password</label>
                        <input class="form-control" type="password" name="password">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-6">
                        <label for="nombres">Rol</label>
                        <select class="form-control" name="rol_id" id="rol_id" required>
                            <option value="">Seleccionar rol</option>
                            <% roles.forEach(element=>{ %>
                                <% if(element.id == item.rol_id){ %>
                                    <option value="<%= element.id%>" selected>
                                        <%= element.role %>
                                    </option>
                                    <%}else{%>
                                        <option value="<%= element.id%>">
                                            <%= element.role %>
                                        </option>
                                        <% } } ) %>
                        </select>
                    </div>
                </div>
                <div class="col-md-12">
                    <input class="btn btn-primary" type="submit" value="Actualizar">
                    <a href="/usuario/list" class="btn btn-danger"> Cancelar</a>
                </div>
            </form>
        </div>
        <%- include('../includes/footer.ejs') %>
</body>

</html>